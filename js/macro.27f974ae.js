(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["macro"],{"004f":function(e,t,i){var a=i("6d8b"),n=i("72b6"),r=i("2306"),o=i("a15a"),s=o.createSymbol,l=i("f934"),u=i("cbb0"),c=n.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),n=t.textStyleModel,o=n.getFont(),s=n.getTextColor(),u=this._getItemAlign(),c=t.itemSize,d=this._getViewData(),h=d.endsText,p=a.retrieve(t.get("showLabel",!0),!h);function g(n){var l=n.piece,d=new r.Group;d.onclick=a.bind(this._onItemClick,this,l),this._enableHoverLink(d,n.indexInModelPieceList);var h=t.getRepresentValue(l);if(this._createItemSymbol(d,h,[0,0,c[0],c[1]]),p){var g=this.visualMapModel.getValueState(h);d.add(new r.Text({style:{x:"right"===u?-i:c[0]+i,y:c[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:u,textFont:o,textFill:s,opacity:"outOfRange"===g?.5:1}}))}e.add(d)}h&&this._renderEndsText(e,h[0],c,p,u),a.each(d.viewPieceList,g,this),h&&this._renderEndsText(e,h[1],c,p,u),l.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:u.makeHighDownBatch(i.findTargetDataIndices(t),i)})}e.on("mouseover",a.bind(i,this,"highlight")).on("mouseout",a.bind(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return u.getItemAlign(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,i,a,n){if(t){var o=new r.Group,s=this.visualMapModel.textStyleModel;o.add(new r.Text({style:{x:a?"right"===n?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:a?n:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=a.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),n=e.get("orient"),r=e.get("inverse");return("horizontal"===n?r:!r)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(s(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,n=a.clone(i.selected),r=t.getSelectedMapKey(e);"single"===i.selectedMode?(n[r]=!0,a.each(n,(function(e,t){n[t]=t===r}))):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}}),d=c;e.exports=d},"06ea":function(e,t,i){var a=i("4e08"),n=(a.__DEV__,i("6d8b")),r=i("eaea"),o=i("5f14"),s=i("60e3"),l=i("3842"),u=l.reformIntervals,c=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){c.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(e,t);var a=this.option.categories;this.resetVisual((function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=n.clone(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=n.map(this._pieceList,(function(e){e=n.clone(e);return"inRange"!==t&&(e.visual=null),e})))}))},completeVisualOption:function(){var e=this.option,t={},i=o.listVisualTypes(),a=this.isCategory();function l(e,t,i){return e&&e[t]&&(n.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}n.each(e.pieces,(function(e){n.each(i,(function(i){e.hasOwnProperty(i)&&(t[i]=1)}))})),n.each(t,(function(t,i){var r=0;n.each(this.stateList,(function(t){r|=l(e,t,i)||l(e.target,t,i)}),this),!r&&n.each(this.stateList,(function(t){(e[t]||(e[t]={}))[i]=s.get(i,"inRange"===t?"active":"inactive",a)}))}),this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,a=this._pieceList,r=(t?i:e).selected||{};if(i.selected=r,n.each(a,(function(e,t){var i=this.getSelectedMapKey(e);r.hasOwnProperty(i)||(r[i]=!0)}),this),"single"===i.selectedMode){var o=!1;n.each(a,(function(e,t){var i=this.getSelectedMapKey(e);r[i]&&(o?r[i]=!1:o=!0)}),this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=n.clone(e)},getValueState:function(e){var t=o.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),(function(t,i){var n=o.findPieceIndex(t,this._pieceList);n===e&&a.push(i)}),this),t.push({seriesId:i.id,dataIndex:a})}),this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],i=[],a=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),o=r[r.length-1].interval[1],o!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return n.each(r,(function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])}),this),{stops:t,outerColors:i}}function l(n,r){var o=a.getRepresentValue({interval:n});r||(r=a.getValueState(o));var s=e(o,r);n[0]===-1/0?i[0]=s:n[1]===1/0?i[1]=s:t.push({value:n[0],color:s},{value:n[1],color:s})}}}),d={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),a=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;var o=(a[1]-a[0])/r;while(+o.toFixed(i)!==o&&i<5)i++;e.precision=i,o=+o.toFixed(i),e.minOpen&&t.push({interval:[-1/0,a[0]],close:[0,0]});for(var s=0,l=a[0];s<r;l+=o,s++){var c=s===r-1?a[1]:l+o;t.push({interval:[l,c],close:[1,1]})}e.maxOpen&&t.push({interval:[a[1],1/0],close:[0,0]}),u(t),n.each(t,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(){var e=this.option;n.each(e.categories,(function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})}),this),h(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;n.each(e.pieces,(function(e,i){n.isObject(e)||(e={value:e});var a={text:"",index:i};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var r=a.value=e.value;a.interval=[r,r],a.close=[1,1]}else{for(var s=a.interval=[],l=a.close=[0,0],u=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var p=[["gte","gt","min"],["lte","lt","max"]][h],g=0;g<3&&null==s[h];g++)s[h]=e[p[g]],l[h]=u[g],d[h]=2===g;null==s[h]&&(s[h]=c[h])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(a.value=s[0])}a.visual=o.retrieveVisuals(e),t.push(a)}),this),h(e,t),u(t),n.each(t,(function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function h(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var p=c;e.exports=p},"085d":function(e,t,i){var a=i("3eba");i("bd92"),i("19e2");var n=i("eabf"),r=i("4c99"),o=i("09b1");a.registerPreprocessor(n),a.registerVisual(r),a.registerLayout(o)},"09b1":function(e,t,i){var a=i("2306"),n=a.subPixelOptimize,r=i("cccd"),o=i("3842"),s=o.parsePercent,l=i("6d8b"),u=l.retrieve2,c="undefined"!==typeof Float32Array?Float32Array:Array,d={seriesType:"candlestick",plan:r(),reset:function(e){var t=e.coordinateSystem,i=e.getData(),a=p(e,i),r=0,o=1,s=["x","y"],l=i.mapDimension(s[r]),u=i.mapDimension(s[o],!0),d=u[0],g=u[1],f=u[2],v=u[3];if(i.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),!(null==l||u.length<4))return{progress:e.pipelineContext.large?y:m};function m(e,i){var s;while(null!=(s=e.next())){var u=i.get(l,s),c=i.get(d,s),p=i.get(g,s),m=i.get(f,s),y=i.get(v,s),x=Math.min(c,p),b=Math.max(c,p),w=k(x,u),M=k(b,u),_=k(m,u),S=k(y,u),I=[];T(I,M,0),T(I,w,1),I.push(V(S),V(M),V(_),V(w)),i.setItemLayout(s,{sign:h(i,s,c,p,g),initBaseline:c>p?M[o]:w[o],ends:I,brushRect:L(m,y,u)})}function k(e,i){var a=[];return a[r]=i,a[o]=e,isNaN(i)||isNaN(e)?[NaN,NaN]:t.dataToPoint(a)}function T(e,t,i){var o=t.slice(),s=t.slice();o[r]=n(o[r]+a/2,1,!1),s[r]=n(s[r]-a/2,1,!0),i?e.push(o,s):e.push(s,o)}function L(e,t,i){var n=k(e,i),s=k(t,i);return n[r]-=a/2,s[r]-=a/2,{x:n[0],y:n[1],width:o?a:s[0]-n[0],height:o?s[1]-n[1]:a}}function V(e){return e[r]=n(e[r],1),e}}function y(e,i){var a,n,s=new c(4*e.count),u=0,p=[],m=[];while(null!=(n=e.next())){var y=i.get(l,n),x=i.get(d,n),b=i.get(g,n),w=i.get(f,n),M=i.get(v,n);isNaN(y)||isNaN(w)||isNaN(M)?(s[u++]=NaN,u+=3):(s[u++]=h(i,n,x,b,g),p[r]=y,p[o]=w,a=t.dataToPoint(p,null,m),s[u++]=a?a[0]:NaN,s[u++]=a?a[1]:NaN,p[o]=M,a=t.dataToPoint(p,null,m),s[u++]=a?a[1]:NaN)}i.setLayout("largePoints",s)}}};function h(e,t,i,a,n){var r;return r=i>a?-1:i<a?1:t>0?e.get(n,t-1)<=a?1:-1:1,r}function p(e,t){var i,a=e.getBaseAxis(),n="category"===a.type?a.getBandWidth():(i=a.getExtent(),Math.abs(i[1]-i[0])/t.count()),r=s(u(e.get("barMaxWidth"),n),n),o=s(u(e.get("barMinWidth"),1),n),l=e.get("barWidth");return null!=l?s(l,n):Math.max(Math.min(n/2,r),o)}e.exports=d},"0a4f":function(e,t,i){var a=i("3eba"),n=i("f934");i("365b"),i("c03d");var r=i("793f");if(!r.isSupported)throw new Error("Sorry your browser not support wordCloud");function o(e){for(var t=e.getContext("2d"),i=t.getImageData(0,0,e.width,e.height),a=t.createImageData(i),n=0,r=0,o=0;o<i.data.length;o+=4){var s=i.data[o+3];if(s>128){var l=i.data[o]+i.data[o+1]+i.data[o+2];n+=l,++r}}var u=n/r;for(o=0;o<i.data.length;o+=4){l=i.data[o]+i.data[o+1]+i.data[o+2],s=i.data[o+3];s<128||l>u?(a.data[o]=0,a.data[o+1]=0,a.data[o+2]=0,a.data[o+3]=0):(a.data[o]=255,a.data[o+1]=255,a.data[o+2]=255,a.data[o+3]=255)}t.putImageData(a,0,0)}a.registerLayout((function(e,t){e.eachSeriesByType("wordCloud",(function(i){var s=n.getLayoutRect(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=i.getData(),u=document.createElement("canvas");u.width=s.width,u.height=s.height;var c=u.getContext("2d"),d=i.get("maskImage");if(d)try{c.drawImage(d,0,0,u.width,u.height),o(u)}catch(y){console.error("Invalid mask image"),console.error(y.toString())}var h=i.get("sizeRange"),p=i.get("rotationRange"),g=l.getDataExtent("value"),f=Math.PI/180,v=i.get("gridSize");function m(e){var t=e.detail.item;e.detail.drawn&&i.layoutInstance.ondraw&&(e.detail.drawn.gx+=s.x/v,e.detail.drawn.gy+=s.y/v,i.layoutInstance.ondraw(t[0],t[1],t[2],e.detail.drawn))}r(u,{list:l.mapArray("value",(function(e,t){var i=l.getItemModel(t);return[l.getName(t),i.get("textStyle.normal.textSize",!0)||a.number.linearMap(e,g,h),t]})).sort((function(e,t){return t[1]-e[1]})),fontFamily:i.get("textStyle.normal.fontFamily")||i.get("textStyle.emphasis.fontFamily")||e.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.normal.fontWeight")||i.get("textStyle.emphasis.fontWeight")||e.get("textStyle.fontWeight"),gridSize:v,ellipticity:s.height/s.width,minRotation:p[0]*f,maxRotation:p[1]*f,clearCanvas:!d,rotateRatio:1,rotationStep:i.get("rotationStep")*f,drawOutOfBound:i.get("drawOutOfBound"),shuffle:!1,shape:i.get("shape")}),u.addEventListener("wordclouddrawn",m),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){u.removeEventListener("wordclouddrawn",m),u.addEventListener("wordclouddrawn",(function(e){e.preventDefault()}))}}}))})),a.registerPreprocessor((function(e){var t=(e||{}).series;!a.util.isArray(t)&&(t=t?[t]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function n(e){e&&a.util.each(i,(function(t){e.hasOwnProperty(t)&&(e["text"+a.format.capitalFirst(t)]=e[t])}))}a.util.each(t,(function(e){if(e&&"wordCloud"===e.type){var t=e.textStyle||{};n(t.normal),n(t.emphasis)}}))}))},"17b8":function(e,t,i){var a=i("3014"),n=a.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});e.exports=n},"19e2":function(e,t,i){var a=i("6d8b"),n=i("e887"),r=i("2306"),o=i("cbe5"),s=i("b0af"),l=s.createClipPath,u=["itemStyle"],c=["emphasis","itemStyle"],d=["color","color0","borderColor","borderColor0"],h=n.extend({type:"candlestick",render:function(e,t,i){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,i){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,i,a){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),i=this._data,a=this.group,n=t.getLayout("isSimpleBox"),o=e.get("clip",!0),s=e.coordinateSystem,l=s.getArea&&s.getArea();this._data||a.removeAll(),t.diff(i).add((function(i){if(t.hasValue(i)){var s,u=t.getItemLayout(i);if(o&&f(l,u))return;s=g(u,i,!0),r.initProps(s,{shape:{points:u.ends}},e,i),v(s,t,i,n),a.add(s),t.setItemGraphicEl(i,s)}})).update((function(s,u){var c=i.getItemGraphicEl(u);if(t.hasValue(s)){var d=t.getItemLayout(s);o&&f(l,d)?a.remove(c):(c?r.updateProps(c,{shape:{points:d.ends}},e,s):c=g(d,s),v(c,t,s,n),a.add(c),t.setItemGraphicEl(s,c))}else a.remove(c)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&a.remove(t)})).execute(),this._data=t},_renderLarge:function(e){this._clear(),x(e,this.group);var t=e.get("clip",!0)?l(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){var i,a=t.getData(),n=a.getLayout("isSimpleBox");while(null!=(i=e.next())){var r,o=a.getItemLayout(i);r=g(o,i),v(r,a,i,n),r.incremental=!0,this.group.add(r)}},_incrementalRenderLarge:function(e,t){x(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:a.noop}),p=o.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var i=t.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))}});function g(e,t,i){var a=e.ends;return new p({shape:{points:i?m(a,e):a},z2:100})}function f(e,t){for(var i=!0,a=0;a<t.ends.length;a++)if(e.contain(t.ends[a][0],t.ends[a][1])){i=!1;break}return i}function v(e,t,i,a){var n=t.getItemModel(i),o=n.getModel(u),s=t.getItemVisual(i,"color"),l=t.getItemVisual(i,"borderColor")||s,h=o.getItemStyle(d);e.useStyle(h),e.style.strokeNoScale=!0,e.style.fill=s,e.style.stroke=l,e.__simpleBox=a;var p=n.getModel(c).getItemStyle();r.setHoverStyle(e,p)}function m(e,t){return a.map(e,(function(e){return e=e.slice(),e[1]=t.initBaseline,e}))}var y=o.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var i=t.points,a=0;a<i.length;)if(this.__sign===i[a++]){var n=i[a++];e.moveTo(n,i[a++]),e.lineTo(n,i[a++])}else a+=3}});function x(e,t,i){var a=e.getData(),n=a.getLayout("largePoints"),r=new y({shape:{points:n},__sign:1});t.add(r);var o=new y({shape:{points:n},__sign:-1});t.add(o),b(1,r,e,a),b(-1,o,e,a),i&&(r.incremental=!0,o.incremental=!0)}function b(e,t,i,a){var n=e>0?"P":"N",r=a.getVisual("borderColor"+n)||a.getVisual("color"+n),o=i.getModel(u).getItemStyle(d);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var w=h;e.exports=w},"29a9":function(e,t,i){var a=i("3eba"),n=i("b336");i("bc5f"),i("ab05"),i("06ea"),i("004f"),i("d6ef"),a.registerPreprocessor(n)},"2b8c":function(e,t,i){var a=i("6d8b"),n=i("5f14"),r=a.each;function o(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function s(e,t,i){var o={};return r(t,(function(t){var l=o[t]=s();r(e[t],(function(e,r){if(n.isValidType(r)){var o={type:r,visual:e};i&&i(o,t),l[r]=new n(o),"opacity"===r&&(o=a.clone(o),o.type="colorAlpha",l.__hidden.__alphaForOpacity=new n(o))}}))})),o;function s(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function l(e,t,i){var n;a.each(i,(function(e){t.hasOwnProperty(e)&&o(t[e])&&(n=!0)})),n&&a.each(i,(function(i){t.hasOwnProperty(i)&&o(t[i])?e[i]=a.clone(t[i]):delete e[i]}))}function u(e,t,i,r,o,s){var l,u={};function c(e){return i.getItemVisual(l,e)}function d(e,t){i.setItemVisual(l,e,t)}function h(e,a){l=null==s?e:a;var n=i.getRawDataItem(l);if(!n||!1!==n.visualMap)for(var h=r.call(o,e),p=t[h],g=u[h],f=0,v=g.length;f<v;f++){var m=g[f];p[m]&&p[m].applyVisual(e,c,d)}}a.each(e,(function(e){var i=n.prepareVisualTypes(t[e]);u[e]=i})),null==s?i.each(h):i.each([s],h)}function c(e,t,i,r){var o={};function s(e,a){function n(e){return a.getItemVisual(l,e)}function s(e,t){a.setItemVisual(l,e,t)}var l;null!=r&&(r=a.getDimension(r));while(null!=(l=e.next())){var u=a.getRawDataItem(l);if(!u||!1!==u.visualMap)for(var c=null!=r?a.get(r,l,!0):l,d=i(c),h=t[d],p=o[d],g=0,f=p.length;g<f;g++){var v=p[g];h[v]&&h[v].applyVisual(c,n,s)}}}return a.each(e,(function(e){var i=n.prepareVisualTypes(t[e]);o[e]=i})),{progress:s}}t.createVisualMappings=s,t.replaceVisualOption=l,t.applyVisual=u,t.incrementalApplyVisual=c},3014:function(e,t,i){var a=i("4f85"),n=i("3301"),r=a.extend({type:"series.__base_bar__",getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(t.clampData(e)),a=this.getData(),n=a.getLayout("offset"),r=a.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return i[o]+=n+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=r},"307a":function(e,t,i){var a=i("6d8b"),n=i("eaea"),r=i("3842"),o=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=o[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=o[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):a.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=r.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),(function(t,i){e[0]<=t&&t<=e[1]&&a.push(i)}),this),t.push({seriesId:i.id,dataIndex:a})}),this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),i=l(this,"inRange",this.option.range.slice()),a=[];function n(t,i){a.push({value:t,color:e(t,i)})}for(var r=0,o=0,s=i.length,u=t.length;o<u&&(!i.length||t[o]<=i[0]);o++)t[o]<i[r]&&n(t[o],"outOfRange");for(var c=1;r<s;r++,c=0)c&&a.length&&n(i[r],"outOfRange"),n(i[r],"inRange");for(c=1;o<u;o++)(!i.length||i[i.length-1]<t[o])&&(c&&(a.length&&n(a[a.length-1].value,"outOfRange"),c=0),n(t[o],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}}});function l(e,t,i){if(i[0]===i[1])return i.slice();for(var a=200,n=(i[1]-i[0])/a,r=i[0],o=[],s=0;s<=a&&r<i[1];s++)o.push(r),r+=n;return o.push(i[1]),o}var u=s;e.exports=u},"365b":function(e,t,i){var a=i("862d"),n=i("3eba");n.extendSeriesModel({type:"series.wordCloud",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var i=a(["value"],e.data),r=new n.List(i,this);return r.initData(e.data),r},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{normal:{fontWeight:"normal"}}}})},"3cd6":function(e,t,i){var a=i("6d8b"),n=i("48a9"),r=i("607d"),o=i("72b6"),s=i("2306"),l=i("3842"),u=i("ef6a"),c=i("cbb0"),d=i("e0d3"),h=l.linearMap,p=a.each,g=Math.min,f=Math.max,v=12,m=6,y=o.extend({type:"visualMap.continuous",init:function(){y.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,i,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var a=t[1-i];a=null!=a?a+"":"";var n=this.visualMapModel,r=n.get("textGap"),o=n.itemSize,l=this._shapes.barGroup,u=this._applyTransform([o[0]/2,0===i?-r:o[1]+r],l),c=this._applyTransform(0===i?"bottom":"top",l),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,r=this._orient,o=this._useHandle,s=c.getItemAlign(t,this.api,n),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=x()),l.add(i.inRange=x(null,o?S(this._orient):null,a.bind(this._dragHandle,this,"all",!1),a.bind(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("国"),d=f(u.width,u.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,n,d,r,s),this._createHandle(l,1,n,d,r,s)),this._createIndicator(l,n,d,r),e.add(l)},_createHandle:function(e,t,i,n,o){var l=a.bind(this._dragHandle,this,t,!1),u=a.bind(this._dragHandle,this,t,!0),c=x(b(t,n),S(this._orient),l,u);c.position[0]=i[0],e.add(c);var d=this.visualMapModel.textStyleModel,h=new s.Text({draggable:!0,drift:l,onmousemove:function(e){r.stop(e.event)},ondragend:u,style:{x:0,y:0,text:"",textFont:d.getFont(),textFill:d.getTextColor()}});this.group.add(h);var p=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===t?-1.5*n:1.5*n:0===t?-n/2:n/2],g=this._shapes;g.handleThumbs[t]=c,g.handleLabelPoints[t]=p,g.handleLabels[t]=h},_createIndicator:function(e,t,i,a){var n=x([[0,0]],"move");n.position[0]=t[0],n.attr({invisible:!0,silent:!0}),e.add(n);var r=this.visualMapModel.textStyleModel,o=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(o);var l=["horizontal"===a?i/2:m+3,0],u=this._shapes;u.indicator=n,u.indicatorLabel=o,u.indicatorLabelPoint=l},_dragHandle:function(e,t,i,a){if(this._useHandle){if(this._dragging=!t,!t){var n=this._applyTransform([i,a],this._shapes.barGroup,!0);this._updateInterval(e,n[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():_(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[h(t[0],i,a,!0),h(t[1],i,a,!0)]},_updateInterval:function(e,t){t=t||0;var i=this.visualMapModel,a=this._handleEnds,n=[0,i.itemSize[1]];u(t,a,n,e,0);var r=i.getExtent();this._dataInterval=[h(a[0],n,r,!0),h(a[1],n,r,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),a=this._shapes,n=[0,t.itemSize[1]],r=e?n:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,n,"outOfRange");a.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),a.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(e,t,i,a){var r={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),s=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],l=this._createBarPoints(i,s);return{barColor:new n(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var i=100,a=[],n=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<i;r++){var o=e[0]+n*r;if(o>e[1])break;a.push({color:this.getControllerVisual(o,"color",t),offset:r/i})}return a.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),a},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,n=i.handleThumbs,r=i.handleLabels;p([0,1],(function(o){var l=n[o];l.setStyle("fill",t.handlesColor[o]),l.position[1]=e[o];var u=s.applyTransform(i.handleLabelPoints[o],s.getTransform(l,this.group));r[o].setStyle({x:u[0],y:u[1],text:a.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",i.barGroup)})}),this)}},_showIndicator:function(e,t,i,a){var n=this.visualMapModel,r=n.getExtent(),o=n.itemSize,l=[0,o[1]],u=h(e,r,l,!0),c=this._shapes,d=c.indicator;if(d){d.position[1]=u,d.attr("invisible",!1),d.setShape("points",w(!!i,a,u,o[1]));var p={convertOpacityToAlpha:!0},g=this.getControllerVisual(e,"color",p);d.setStyle("fill",g);var f=s.applyTransform(c.indicatorLabelPoint,s.getTransform(d,this.group)),v=c.indicatorLabel;v.attr("invisible",!1);var m=this._applyTransform("left",c.barGroup),y=this._orient;v.setStyle({text:(i||"")+n.formatValueText(t),textVerticalAlign:"horizontal"===y?m:"middle",textAlign:"horizontal"===y?"center":m,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);a[1]=g(f(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var n=[0,a[1]],r=i.getExtent();e=g(f(n[0],e),n[1]);var o=M(i,r,n),s=[e-o,e+o],l=h(e,n,r,!0),u=[h(s[0],n,r,!0),h(s[1],n,r,!0)];s[0]<n[0]&&(u[0]=-1/0),s[1]>n[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",o):u[1]===1/0?this._showIndicator(l,u[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var p=this._hoverLinkDataIndices,v=[];(t||_(i))&&(v=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var m=d.compressBatches(p,v);this._dispatchHighDown("downplay",c.makeHighDownBatch(m[0],i)),this._dispatchHighDown("highlight",c.makeHighDownBatch(m[1],i))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var a=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(a)){var n=a.getData(t.dataType),r=n.get(i.getDataDimension(n),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,n){var r=s.getTransform(t,n?null:this.group);return s[a.isArray(e)?"applyTransform":"transformDirection"](e,r,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function x(e,t,i,a){return new s.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){r.stop(e.event)},ondragend:a})}function b(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function w(e,t,i,a){return e?[[0,-g(t,f(i,0))],[m,0],[0,g(t,f(a-i,0))]]:[[0,0],[5,-5],[5,5]]}function M(e,t,i){var a=v/2,n=e.get("hoverLinkDataSize");return n&&(a=h(n,t,i,!0)/2),a}function _(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function S(e){return"vertical"===e?"ns-resize":"ew-resize"}var I=y;e.exports=I},"4c99":function(e,t,i){var a=i("cccd"),n=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],o=["itemStyle","color"],s=["itemStyle","color0"],l={seriesType:"candlestick",plan:a(),performRawSeries:!0,reset:function(e,t){var i=e.getData();if(i.setVisual({legendSymbol:"roundRect",colorP:u(1,e),colorN:u(-1,e),borderColorP:c(1,e),borderColorN:c(-1,e)}),!t.isSeriesFiltered(e)){var a=e.pipelineContext.large;return!a&&{progress:l}}function l(e,t){var i;while(null!=(i=e.next())){var a=t.getItemModel(i),n=t.getItemLayout(i).sign;t.setItemVisual(i,{color:u(n,a),borderColor:c(n,a)})}}function u(e,t){return t.get(e>0?o:s)}function c(e,t){return t.get(e>0?n:r)}}};e.exports=l},5450:function(e,t,i){i("7419"),i("29a9")},"5f14":function(e,t,i){var a=i("6d8b"),n=i("41ef"),r=i("3842"),o=r.linearMap,s=a.each,l=a.isObject,u=-1,c=function(e){var t=e.mappingMethod,i=e.type,n=this.option=a.clone(e);this.type=i,this.mappingMethod=t,this._normalizeData=_[t];var r=d[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(g(n),h(n)):"category"===t?n.categories?p(n):g(n,!0):(a.assert("linear"!==t||n.dataExtent),g(n))};c.prototype={constructor:c,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return a.bind(this._normalizeData,this)}};var d=c.visualHandlers={color:{applyVisual:m("color"),getColorMapper:function(){var e=this.option;return a.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),y.call(this,e)}:function(t,i,a){var r=!!a;return!i&&(t=this._normalizeData(t)),a=n.fastLerp(t,e.parsedVisual,a),r?a:n.stringify(a,"rgba")},this)},_doMap:{linear:function(e){return n.stringify(n.fastLerp(e,this.option.parsedVisual),"rgba")},category:y,piecewise:function(e,t){var i=w.call(this,t);return null==i&&(i=n.stringify(n.fastLerp(e,this.option.parsedVisual),"rgba")),i},fixed:x}},colorHue:f((function(e,t){return n.modifyHSL(e,t)})),colorSaturation:f((function(e,t){return n.modifyHSL(e,null,t)})),colorLightness:f((function(e,t){return n.modifyHSL(e,null,null,t)})),colorAlpha:f((function(e,t){return n.modifyAlpha(e,t)})),opacity:{applyVisual:m("opacity"),_doMap:b([0,1])},liftZ:{applyVisual:m("liftZ"),_doMap:{linear:x,category:x,piecewise:x,fixed:x}},symbol:{applyVisual:function(e,t,i){var n=this.mapValueToVisual(e);if(a.isString(n))i("symbol",n);else if(l(n))for(var r in n)n.hasOwnProperty(r)&&i(r,n[r])},_doMap:{linear:v,category:y,piecewise:function(e,t){var i=w.call(this,t);return null==i&&(i=v.call(this,e)),i},fixed:x}},symbolSize:{applyVisual:m("symbolSize"),_doMap:b([0,1])}};function h(e){var t=e.pieceList;e.hasSpecialVisual=!1,a.each(t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function p(e){var t=e.categories,i=e.visual,n=e.categoryMap={};if(s(t,(function(e,t){n[e]=t})),!a.isArray(i)){var r=[];a.isObject(i)?s(i,(function(e,t){var i=n[t];r[null!=i?i:u]=e})):r[u]=i,i=M(e,r)}for(var o=t.length-1;o>=0;o--)null==i[o]&&(delete n[t[o]],t.pop())}function g(e,t){var i=e.visual,n=[];a.isObject(i)?s(i,(function(e){n.push(e)})):null!=i&&n.push(i);var r={color:1,symbol:1};t||1!==n.length||r.hasOwnProperty(e.type)||(n[1]=n[0]),M(e,n)}function f(e){return{applyVisual:function(t,i,a){t=this.mapValueToVisual(t),a("color",e(i("color"),t))},_doMap:b([0,1])}}function v(e){var t=this.option.visual;return t[Math.round(o(e,[0,1],[0,t.length-1],!0))]||{}}function m(e){return function(t,i,a){a(e,this.mapValueToVisual(t))}}function y(e){var t=this.option.visual;return t[this.option.loop&&e!==u?e%t.length:e]}function x(){return this.option.visual[0]}function b(e){return{linear:function(t){return o(t,e,this.option.visual,!0)},category:y,piecewise:function(t,i){var a=w.call(this,i);return null==a&&(a=o(t,e,this.option.visual,!0)),a},fixed:x}}function w(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var a=c.findPieceIndex(e,i),n=i[a];if(n&&n.visual)return n.visual[this.type]}}function M(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=a.map(t,(function(e){return n.parse(e)}))),t}var _={linear:function(e){return o(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=c.findPieceIndex(e,t,!0);if(null!=i)return o(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?u:t},fixed:a.noop};function S(e,t,i){return e?t<=i:t<i}c.listVisualTypes=function(){var e=[];return a.each(d,(function(t,i){e.push(i)})),e},c.addVisualHandler=function(e,t){d[e]=t},c.isValidType=function(e){return d.hasOwnProperty(e)},c.eachVisual=function(e,t,i){a.isObject(e)?a.each(e,t,i):t.call(i,e)},c.mapVisual=function(e,t,i){var n,r=a.isArray(e)?[]:a.isObject(e)?{}:(n=!0,null);return c.eachVisual(e,(function(e,a){var o=t.call(i,e,a);n?r=o:r[a]=o})),r},c.retrieveVisuals=function(e){var t,i={};return e&&s(d,(function(a,n){e.hasOwnProperty(n)&&(i[n]=e[n],t=!0)})),t?i:null},c.prepareVisualTypes=function(e){if(l(e)){var t=[];s(e,(function(e,i){t.push(i)})),e=t}else{if(!a.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},c.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},c.findPieceIndex=function(e,t,i){for(var a,n=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return r;i&&d(s,r)}}for(r=0,o=t.length;r<o;r++){var l=t[r],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(S(c[1],e,u[1]))return r}else if(u[1]===1/0){if(S(c[0],u[0],e))return r}else if(S(c[0],u[0],e)&&S(c[1],e,u[1]))return r;i&&d(u[0],r),i&&d(u[1],r)}}if(i)return e===1/0?t.length-1:e===-1/0?0:a;function d(t,i){var r=Math.abs(t-e);r<n&&(n=r,a=i)}};var I=c;e.exports=I},"60e3":function(e,t,i){var a=i("6d8b"),n={get:function(e,t,i){var n=a.clone((r[e]||{})[t]);return i&&a.isArray(n)?n[n.length-1]:n}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=n;e.exports=o},"67cc":function(e,t,i){var a=i("4e08"),n=(a.__DEV__,i("3eba")),r=i("6d8b"),o=i("2306"),s=i("e7aa"),l=s.setLabel,u=i("4319"),c=i("b5c7"),d=i("cbe5"),h=i("e1fc"),p=i("88b3"),g=p.throttle,f=i("b0af"),v=f.createClipPath,m=i("c2be"),y=["itemStyle","barBorderWidth"],x=[0,0];function b(e,t){var i=e.getArea&&e.getArea();if("cartesian2d"===e.type){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(i.x-=n,i.width+=2*n):(i.y-=n,i.height+=2*n)}}return i}r.extend(u.prototype,c);var w=n.extendChartView({type:"bar",render:function(e,t,i){this._updateDrawMode(e);var a=e.get("coordinateSystem");return"cartesian2d"!==a&&"polar"!==a||(this._isLargeDraw?this._renderLarge(e,t,i):this._renderNormal(e,t,i)),this.group},incrementalPrepareRender:function(e,t,i){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,i,a){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,i){var a,n=this.group,r=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?a=u.isHorizontal():"polar"===l.type&&(a="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=e.get("clip",!0),p=b(l,r);n.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),m=v.get("barBorderRadius")||0,y=[],x=this._backgroundEls||[],w=function(e){var t=L[l.type](r,e),i=N(l,a,t);return i.useStyle(v.getBarItemStyle()),"cartesian2d"===l.type&&i.setShape("r",m),y[e]=i,i};r.diff(s).add((function(t){var i=r.getItemModel(t),o=L[l.type](r,t,i);if(f&&w(t),r.hasValue(t)){if(d){var s=S[l.type](p,o);if(s)return void n.remove(u)}var u=I[l.type](t,o,a,c,!1,g);r.setItemGraphicEl(t,u),n.add(u),C(u,r,t,i,o,e,a,"polar"===l.type)}})).update((function(t,i){var u=r.getItemModel(t),h=L[l.type](r,t,u);if(f){var b;0===x.length?b=w(i):(b=x[i],b.useStyle(v.getBarItemStyle()),"cartesian2d"===l.type&&b.setShape("r",m),y[t]=b);var M=L[l.type](r,t),_=H(a,M,l);o.updateProps(b,{shape:_},c,t)}var k=s.getItemGraphicEl(i);if(r.hasValue(t)){if(d){var T=S[l.type](p,h);if(T)return void n.remove(k)}k?o.updateProps(k,{shape:h},c,t):k=I[l.type](t,h,a,c,!0,g),r.setItemGraphicEl(t,k),n.add(k),C(k,r,t,u,h,e,a,"polar"===l.type)}else n.remove(k)})).remove((function(e){var t=s.getItemGraphicEl(e);"cartesian2d"===l.type?t&&k(e,c,t):t&&T(e,c,t)})).execute();var M=this._backgroundGroup||(this._backgroundGroup=new h);M.removeAll();for(var _=0;_<y.length;++_)M.add(y[_]);n.add(M),this._backgroundEls=y,this._data=r},_renderLarge:function(e,t,i){this._clear(),D(e,this.group);var a=e.get("clip",!0)?v(e.coordinateSystem,!1,e):null;a?this.group.setClipPath(a):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),D(t,this.group,!0)},dispose:r.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(t){"sector"===t.type?T(t.dataIndex,e,t):k(t.dataIndex,e,t)}))):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),M=Math.max,_=Math.min,S={cartesian2d:function(e,t){var i=t.width<0?-1:1,a=t.height<0?-1:1;i<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var n=M(t.x,e.x),r=_(t.x+t.width,e.x+e.width),o=M(t.y,e.y),s=_(t.y+t.height,e.y+e.height);t.x=n,t.y=o,t.width=r-n,t.height=s-o;var l=t.width<0||t.height<0;return i<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),l},polar:function(e,t){var i=t.r0<=t.r?1:-1;if(i<0){var a=t.r;t.r=t.r0,t.r0=a}a=_(t.r,e.r);var n=M(t.r0,e.r0);t.r=a,t.r0=n;var r=a-n<0;if(i<0){a=t.r;t.r=t.r0,t.r0=a}return r}},I={cartesian2d:function(e,t,i,a,n){var s=new o.Rect({shape:r.extend({},t),z2:1});if(s.name="item",a){var l=s.shape,u=i?"height":"width",c={};l[u]=0,c[u]=t[u],o[n?"updateProps":"initProps"](s,{shape:c},a,e)}return s},polar:function(e,t,i,a,n,s){var l=t.startAngle<t.endAngle,u=!i&&s?m:o.Sector,c=new u({shape:r.defaults({clockwise:l},t),z2:1});if(c.name="item",a){var d=c.shape,h=i?"r":"endAngle",p={};d[h]=i?0:t.startAngle,p[h]=t[h],o[n?"updateProps":"initProps"](c,{shape:p},a,e)}return c}};function k(e,t,i){i.style.text=null,o.updateProps(i,{shape:{width:0}},t,e,(function(){i.parent&&i.parent.remove(i)}))}function T(e,t,i){i.style.text=null,o.updateProps(i,{shape:{r:i.shape.r0}},t,e,(function(){i.parent&&i.parent.remove(i)}))}var L={cartesian2d:function(e,t,i){var a=e.getItemLayout(t),n=i?A(i,a):0,r=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+r*n/2,y:a.y+o*n/2,width:a.width-r*n,height:a.height-o*n}},polar:function(e,t,i){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};function V(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function C(e,t,i,a,n,s,u,c){var d=t.getItemVisual(i,"color"),h=t.getItemVisual(i,"opacity"),p=t.getVisual("borderColor"),g=a.getModel("itemStyle"),f=a.getModel("emphasis.itemStyle").getBarItemStyle();c||e.setShape("r",g.get("barBorderRadius")||0),e.useStyle(r.defaults({stroke:V(n)?"none":p,fill:V(n)?"none":d,opacity:h},g.getBarItemStyle()));var v=a.getShallow("cursor");v&&e.attr("cursor",v);var m=u?n.height>0?"bottom":"top":n.width>0?"left":"right";c||l(e.style,f,a,d,s,i,m),V(n)&&(f.fill=f.stroke="none"),o.setHoverStyle(e,f)}function A(e,t){var i=e.get(y)||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,a,n)}var O=d.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var i=t.points,a=this.__startPoint,n=this.__baseDimIdx,r=0;r<i.length;r+=2)a[n]=i[r+n],e.moveTo(a[0],a[1]),e.lineTo(i[r],i[r+1])}});function D(e,t,i){var a=e.getData(),n=[],r=a.getLayout("valueAxisHorizontal")?1:0;n[1-r]=a.getLayout("valueAxisStart");var o=a.getLayout("largeDataIndices"),s=a.getLayout("barWidth"),l=e.getModel("backgroundStyle"),u=e.get("showBackground",!0);if(u){var c=a.getLayout("largeBackgroundPoints"),d=[];d[1-r]=a.getLayout("backgroundStart");var h=new O({shape:{points:c},incremental:!!i,__startPoint:d,__baseDimIdx:r,__largeDataIndices:o,__barWidth:s,silent:!0,z2:0});E(h,l,a),t.add(h)}var p=new O({shape:{points:a.getLayout("largePoints")},incremental:!!i,__startPoint:n,__baseDimIdx:r,__largeDataIndices:o,__barWidth:s});t.add(p),z(p,e,a),p.seriesIndex=e.seriesIndex,e.get("silent")||(p.on("mousedown",P),p.on("mousemove",P))}var P=g((function(e){var t=this,i=R(t,e.offsetX,e.offsetY);t.dataIndex=i>=0?i:null}),30,!1);function R(e,t,i){var a=e.__baseDimIdx,n=1-a,r=e.shape.points,o=e.__largeDataIndices,s=Math.abs(e.__barWidth/2),l=e.__startPoint[n];x[0]=t,x[1]=i;for(var u=x[a],c=x[1-a],d=u-s,h=u+s,p=0,g=r.length/2;p<g;p++){var f=2*p,v=r[f+a],m=r[f+n];if(v>=d&&v<=h&&(l<=m?c>=l&&c<=m:c>=m&&c<=l))return o[p]}return-1}function z(e,t,i){var a=i.getVisual("borderColor")||i.getVisual("color"),n=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(n),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=i.getLayout("barWidth")}function E(e,t,i){var a=t.get("borderColor")||t.get("color"),n=t.getItemStyle(["color","borderColor"]);e.useStyle(n),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=i.getLayout("barWidth")}function H(e,t,i){var a,n="polar"===i.type;return a=n?i.getArea():i.grid.getRect(),n?{cx:a.cx,cy:a.cy,r0:e?a.r0:t.r0,r:e?a.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:a.x,y:e?a.y:t.y,width:e?t.width:a.width,height:e?a.height:t.height}}function N(e,t,i){var a="polar"===e.type?o.Sector:o.Rect;return new a({shape:H(t,i,e),silent:!0,z2:0})}e.exports=w},6822:function(e,t,i){"use strict";function a(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var n=i("89d6"),r=i("6f0c"),o=i("4cbb");i("94b1"),i("ef97"),i("085d"),i("5450"),i("0a6d");var s=a(i("6521")),l=[5,10,20,30],u="日K",c="#ec0000",d="#00da3c",h=50,p=100,g={show:!1};function f(e){var t=e.showMA,i=e.MA,a=e.legendName,n=e.labelMap,r=[u];return t&&(r=r.concat(i.map((function(e){return"MA"+e})))),n&&(r=r.map((function(e){return null==n[e]?e:n[e]}))),{data:r,formatter:function(e){return null!=a[e]?a[e]:e}}}function v(e){var t=e.metrics,i=e.dataType,a=e.digit,o=e.labelMap;return{trigger:"axis",axisPointer:{type:"cross"},position:function(e,t,i,a,n){var r={top:10},o=e[0]<n.viewSize[0]/2?"right":"left";return r[o]=60,r},formatter:function(e){var s=[];return s.push(e[0].axisValue+"<br>"),e.forEach((function(e){var l=e.data,u=e.seriesName,c=e.componentSubType,d=e.color,h=null==o[u]?u:o[u];if(s.push(n.itemPoint(d)+" "+h+": "),"candlestick"===c)s.push("<br>"),t.slice(0,4).forEach((function(e,t){var n=null!=o[e]?o[e]:e,u=r.getFormated(l[t+1],i,a);s.push("- "+n+": "+u+"<br>")}));else if("line"===c){var p=r.getFormated(l,i,a);s.push(p+"<br>")}else if("bar"===c){var g=r.getFormated(l[1],i,a);s.push(g+"<br>")}})),s.join("")}}}function m(e){var t=e.downColor,i=e.upColor,a=e.MA,n=e.showMA;return{show:!1,seriesIndex:n?1+a.length:1,dimension:2,pieces:[{value:1,color:t},{value:-1,color:i}]}}function y(e){var t=e.showVol;return[{left:"10%",right:"8%",top:"10%",height:t?"50%":"65%",containLabel:!1},{left:"10%",right:"8%",top:"65%",height:"16%",containLabel:!1}]}function x(e){var t=e.dims,i="category",a=!0,n=!1,r=g,o={onZero:!1},s=g,l=g,u="dataMin",c="dataMax",d=1;return[{type:i,data:t,scale:a,boundaryGap:n,axisLine:o,splitLine:r,min:u,max:c},{type:i,gridIndex:d,data:t,scale:a,boundaryGap:n,axisLine:o,axisTick:s,splitLine:r,axisLabel:l,min:u,max:c}]}function b(e){var t=e.dataType,i=e.digit,a=!0,n=1,o=2,s=g,l=g,u=g,c=g,d=function(e){return r.getFormated(e,t,i)};return[{scale:a,axisTick:l,axisLabel:{formatter:d}},{scale:a,gridIndex:n,splitNumber:o,axisLine:s,axisTick:l,splitLine:c,axisLabel:u}]}function w(e){var t=e.start,i=e.end;return[{type:"inside",xAxisIndex:[0,1],start:t,end:i},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:t,end:i}]}function M(e){var t=e.values,i=e.volumes,a=e.upColor,n=e.downColor,r=e.showMA,o=e.MA,s=e.showVol,l=e.labelMap,c=e.digit,d=e.itemStyle,h=d||{normal:{color:a,color0:n,borderColor:null,borderColor0:null}},p={normal:{opacity:.5}},g=[{name:null==l[u]?u:l[u],type:"candlestick",data:t,itemStyle:h}];return r&&o.forEach((function(e){var i="MA"+e;g.push({name:null==l[i]?i:l[i],data:_(e,t,c),type:"line",lineStyle:p,smooth:!0})})),s&&g.push({name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:i}),g}function _(e,t,i){var a=[];return t.forEach((function(n,r){if(r<e)a.push("-");else{for(var o=0,s=0;s<e;s++)o+=t[r-s][1];a.push(+(o/e).toFixed(i))}})),a}var S=function(e,t,i,a){var n=i.dimension,r=void 0===n?e[0]:n,s=i.metrics,u=void 0===s?e.slice(1,6):s,g=i.digit,_=void 0===g?2:g,S=i.itemStyle,I=i.labelMap,k=void 0===I?{}:I,T=i.legendName,L=void 0===T?{}:T,V=i.MA,C=void 0===V?l:V,A=i.showMA,O=void 0!==A&&A,D=i.showVol,P=void 0!==D&&D,R=i.showDataZoom,z=void 0!==R&&R,E=i.downColor,H=void 0===E?c:E,N=i.upColor,B=void 0===N?d:N,F=i.start,W=void 0===F?h:F,K=i.end,G=void 0===K?p:K,j=i.dataType,U=a.tooltipVisible,Z=a.legendVisible,Y=o.isArray(t[0]),X=[],q=[],J=[],$=u.slice(0,4),Q=u[4];Y?t.forEach((function(t){var i=[];X.push(t[e.indexOf(r)]),$.forEach((function(a){i.push(t[e.indexOf(a)])})),q.push(i),Q&&J.push(t[e.indexOf(Q)])})):t.forEach((function(e,t){var i=[];if(X.push(e[r]),$.forEach((function(t){i.push(e[t])})),q.push(i),Q){var a=e[u[0]]>e[u[1]]?1:-1;J.push([t,e[Q],a])}}));var ee=Z&&f({showMA:O,MA:C,legendName:L,labelMap:k}),te=U&&v({metrics:u,dataType:j,digit:_,labelMap:k}),ie=P&&m({downColor:H,upColor:B,MA:C,showMA:O}),ae=z&&w({start:W,end:G}),ne=y({showVol:P}),re=x({dims:X}),oe=b({dataType:j,digit:_}),se=M({values:q,volumes:J,upColor:B,downColor:H,showMA:O,MA:C,showVol:P,labelMap:k,digit:_,itemStyle:S}),le={link:{xAxisIndex:"all"}};return{legend:ee,tooltip:te,visualMap:ie,grid:ne,xAxis:re,yAxis:oe,dataZoom:ae,series:se,axisPointer:le}},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},k=I({},s,{name:"VeCandle",data:function(){return this.chartHandler=S,{}}});e.exports=k},"72b6":function(e,t,i){var a=i("3eba"),n=i("6d8b"),r=i("2306"),o=i("eda2"),s=i("f934"),l=i("5f14"),u=a.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,i,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,i=o.normalizeCssArray(t.get("padding")||0),a=e.getBoundingRect();e.add(new r.Rect({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,i){i=i||{};var a=i.forceState,r=this.visualMapModel,o={};if("symbol"===t&&(o.symbol=r.get("itemSymbol")),"color"===t){var s=r.get("contentColor");o.color=s}function u(e){return o[e]}function c(e,t){o[e]=t}var d=r.controllerVisuals[a||r.getValueState(e)],h=l.prepareVisualTypes(d);return n.each(h,(function(a){var n=d[a];i.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",n=d.__alphaForOpacity),l.dependsOn(a,t)&&n&&n.applyVisual(e,u,c)})),o[t]},positionGroup:function(e){var t=this.visualMapModel,i=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:n.noop});e.exports=u},7419:function(e,t,i){var a=i("3eba"),n=i("b336");i("bc5f"),i("ab05"),i("307a"),i("3cd6"),i("d6ef"),a.registerPreprocessor(n)},"793f":function(e,t,i){"use strict";var a,n;
/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],t="zero-timeout-message",i=function(i){var a=e.length;return e.push(i),window.postMessage(t+a.toString(36),"*"),a};return window.addEventListener("message",(function(i){if("string"===typeof i.data&&i.data.substr(0,t.length)===t){i.stopImmediatePropagation();var a=parseInt(i.data.substr(t.length),36);e[a]&&(e[a](),e[a]=void 0)}}),!0),window.clearImmediate=function(t){e[t]&&(e[t]=void 0)},i}()||function(e){window.setTimeout(e,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)}}()),function(i){var r=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var t=e.getContext("2d");return!!t.getImageData&&(!!t.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),o=function(){if(r){var e,t,i=document.createElement("canvas").getContext("2d"),a=20;while(a){if(i.font=a.toString(10)+"px sans-serif",i.measureText("Ｗ").width===e&&i.measureText("m").width===t)return a+1;e=i.measureText("Ｗ").width,t=i.measureText("m").width,a--}return 0}}(),s=function(e){for(var t,i,a=e.length;a;t=Math.floor(Math.random()*a),i=e[--a],e[a]=e[t],e[t]=i);return e},l=function(e,t){if(r){Array.isArray(e)||(e=[e]),e.forEach((function(t,i){if("string"===typeof t){if(e[i]=document.getElementById(t),!e[i])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."}));var i={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(t)for(var a in t)a in i&&(i[a]=t[a]);if("function"!==typeof i.weightFactor){var n=i.weightFactor;i.weightFactor=function(e){return e*n}}if("function"!==typeof i.shape)switch(i.shape){case"circle":default:i.shape="circle";break;case"cardioid":i.shape=function(e){return 1-Math.sin(e)};break;case"diamond":case"square":i.shape=function(e){var t=e%(2*Math.PI/4);return 1/(Math.cos(t)+Math.sin(t))};break;case"triangle-forward":i.shape=function(e){var t=e%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"triangle":case"triangle-upright":i.shape=function(e){var t=(e+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"pentagon":i.shape=function(e){var t=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(t)+.726543*Math.sin(t))};break;case"star":i.shape=function(e){var t=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-t)+3.07768*Math.sin(2*Math.PI/10-t)):1/(Math.cos(t)+3.07768*Math.sin(t))};break}i.gridSize=Math.max(Math.floor(i.gridSize),4);var l,u,c,d,h,p,g,f=i.gridSize,v=f-i.maskGapWidth,m=Math.abs(i.maxRotation-i.minRotation),y=Math.min(i.maxRotation,i.minRotation),x=i.rotationStep;switch(i.color){case"random-dark":g=function(){return N(10,50)};break;case"random-light":g=function(){return N(50,90)};break;default:"function"===typeof i.color&&(g=i.color);break}var b=null;"function"===typeof i.classes&&(b=i.classes);var w,M=!1,_=[],S=function(e){var t,i,a=e.currentTarget,n=a.getBoundingClientRect();e.touches?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY);var r=t-n.left,o=i-n.top,s=Math.floor(r*(a.width/n.width||1)/f),l=Math.floor(o*(a.height/n.height||1)/f);return _[s][l]},I=function(e){var t=S(e);w!==t&&(w=t,t?i.hover(t.item,t.dimension,e):i.hover(void 0,void 0,e))},k=function(e){var t=S(e);t&&(i.click(t.item,t.dimension,e),e.preventDefault())},T=[],L=function(e){if(T[e])return T[e];var t=8*e,a=t,n=[];0===e&&n.push([d[0],d[1],0]);while(a--){var r=1;"circle"!==i.shape&&(r=i.shape(a/t*2*Math.PI)),n.push([d[0]+e*r*Math.cos(-a/t*2*Math.PI),d[1]+e*r*Math.sin(-a/t*2*Math.PI)*i.ellipticity,a/t*2*Math.PI])}return T[e]=n,n},V=function(){return i.abortThreshold>0&&(new Date).getTime()-p>i.abortThreshold},C=function(){return 0===i.rotateRatio||Math.random()>i.rotateRatio?0:0===m?y:y+Math.round(Math.random()*m/x)*x},A=function(e,t,a){var n=!1,r=i.weightFactor(t);if(r<=i.minSize)return!1;var s=1;r<o&&(s=function(){var e=2;while(e*r<o)e+=2;return e}());var l=document.createElement("canvas"),u=l.getContext("2d",{willReadFrequently:!0});u.font=i.fontWeight+" "+(r*s).toString(10)+"px "+i.fontFamily;var c=u.measureText(e).width/s,d=Math.max(r*s,u.measureText("m").width,u.measureText("Ｗ").width)/s,h=c+2*d,p=3*d,g=Math.ceil(h/f),v=Math.ceil(p/f);h=g*f,p=v*f;var m=-c/2,y=.4*-d,x=Math.ceil((h*Math.abs(Math.sin(a))+p*Math.abs(Math.cos(a)))/f),b=Math.ceil((h*Math.abs(Math.cos(a))+p*Math.abs(Math.sin(a)))/f),w=b*f,M=x*f;l.setAttribute("width",w),l.setAttribute("height",M),n&&(document.body.appendChild(l),u.save()),u.scale(1/s,1/s),u.translate(w*s/2,M*s/2),u.rotate(-a),u.font=i.fontWeight+" "+(r*s).toString(10)+"px "+i.fontFamily,u.fillStyle="#000",u.textBaseline="middle",u.fillText(e,m*s,(y+.5*r)*s);var _=u.getImageData(0,0,w,M).data;if(V())return!1;n&&(u.strokeRect(m*s,y,c*s,d*s),u.restore());var S,I,k,T=[],L=b,C=[x/2,b/2,x/2,b/2];while(L--){S=x;while(S--){k=f;e:{while(k--){I=f;while(I--)if(_[4*((S*f+k)*w+(L*f+I))+3]){T.push([L,S]),L<C[3]&&(C[3]=L),L>C[1]&&(C[1]=L),S<C[0]&&(C[0]=S),S>C[2]&&(C[2]=S),n&&(u.fillStyle="rgba(255, 0, 0, 0.5)",u.fillRect(L*f,S*f,f-.5,f-.5));break e}}n&&(u.fillStyle="rgba(0, 0, 255, 0.5)",u.fillRect(L*f,S*f,f-.5,f-.5))}}}return n&&(u.fillStyle="rgba(0, 255, 0, 0.5)",u.fillRect(C[3]*f,C[0]*f,(C[1]-C[3]+1)*f,(C[2]-C[0]+1)*f)),{mu:s,occupied:T,bounds:C,gw:b,gh:x,fillTextOffsetX:m,fillTextOffsetY:y,fillTextWidth:c,fillTextHeight:d,fontSize:r}},O=function(e,t,a,n,r){var o=r.length;while(o--){var s=e+r[o][0],d=t+r[o][1];if(s>=u||d>=c||s<0||d<0){if(!i.drawOutOfBound)return!1}else if(!l[s][d])return!1}return!0},D=function(t,a,n,r,o,s,l,u,c){var d,h,p=n.fontSize;d=g?g(r,o,p,s,l):i.color,h=b?b(r,o,p,s,l):i.classes;var v=n.bounds;v[3],v[0],v[1],v[3],v[2],v[0],e.forEach((function(e){if(e.getContext){var o=e.getContext("2d"),s=n.mu;o.save(),o.scale(1/s,1/s),o.font=i.fontWeight+" "+(p*s).toString(10)+"px "+i.fontFamily,o.fillStyle=d,o.translate((t+n.gw/2)*f*s,(a+n.gh/2)*f*s),0!==u&&o.rotate(-u),o.textBaseline="middle",o.fillText(r,n.fillTextOffsetX*s,(n.fillTextOffsetY+.5*p)*s),o.restore()}else{var l=document.createElement("span"),g="";g="rotate("+-u/Math.PI*180+"deg) ",1!==n.mu&&(g+="translateX(-"+n.fillTextWidth/4+"px) scale("+1/n.mu+")");var v={position:"absolute",display:"block",font:i.fontWeight+" "+p*n.mu+"px "+i.fontFamily,left:(t+n.gw/2)*f+n.fillTextOffsetX+"px",top:(a+n.gh/2)*f+n.fillTextOffsetY+"px",width:n.fillTextWidth+"px",height:n.fillTextHeight+"px",lineHeight:p+"px",whiteSpace:"nowrap",transform:g,webkitTransform:g,msTransform:g,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var m in d&&(v.color=d),l.textContent=r,v)l.style[m]=v[m];if(c)for(var y in c)l.setAttribute(y,c[y]);h&&(l.className+=h),e.appendChild(l)}}))},P=function(t,i,a,n,r){if(!(t>=u||i>=c||t<0||i<0)){if(l[t][i]=!1,a){var o=e[0].getContext("2d");o.fillRect(t*f,i*f,v,v)}M&&(_[t][i]={item:r,dimension:n})}},R=function(t,a,n,r,o,s){var l,d,h=o.occupied,p=i.drawMask;if(p&&(l=e[0].getContext("2d"),l.save(),l.fillStyle=i.maskColor),M){var g=o.bounds;d={x:(t+g[3])*f,y:(a+g[0])*f,w:(g[1]-g[3]+1)*f,h:(g[2]-g[0]+1)*f}}var v=h.length;while(v--){var m=t+h[v][0],y=a+h[v][1];m>=u||y>=c||m<0||y<0||P(m,y,p,d,s)}p&&l.restore()},z=function(e){var t,a,n;Array.isArray(e)?(t=e[0],a=e[1]):(t=e.word,a=e.weight,n=e.attributes);var r=C(),o=A(t,a,r);if(!o)return!1;if(V())return!1;if(!i.drawOutOfBound){var l=o.bounds;if(l[1]-l[3]+1>u||l[2]-l[0]+1>c)return!1}var d=h+1,p=function(i){var s=Math.floor(i[0]-o.gw/2),l=Math.floor(i[1]-o.gh/2),u=o.gw,c=o.gh;return!!O(s,l,u,c,o.occupied)&&(D(s,l,o,t,a,h-d,i[2],r,n),R(s,l,u,c,o,e),{gx:s,gy:l,rot:r,info:o})};while(d--){var g=L(h-d);i.shuffle&&(g=[].concat(g),s(g));for(var f=0;f<g.length;f++){var v=p(g[f]);if(v)return v}}return null},E=function(t,i,a){if(i)return!e.some((function(e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,i,a||{}),!e.dispatchEvent(n)}),this);e.forEach((function(e){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,i,a||{}),e.dispatchEvent(n)}),this)},H=function(){var t=e[0];if(t.getContext)u=Math.ceil(t.width/f),c=Math.ceil(t.height/f);else{var a=t.getBoundingClientRect();u=Math.ceil(a.width/f),c=Math.ceil(a.height/f)}if(E("wordcloudstart",!0)){var n,r,o,s,g;if(d=i.origin?[i.origin[0]/f,i.origin[1]/f]:[u/2,c/2],h=Math.floor(Math.sqrt(u*u+c*c)),l=[],!t.getContext||i.clearCanvas){e.forEach((function(e){if(e.getContext){var t=e.getContext("2d");t.fillStyle=i.backgroundColor,t.clearRect(0,0,u*(f+1),c*(f+1)),t.fillRect(0,0,u*(f+1),c*(f+1))}else e.textContent="",e.style.backgroundColor=i.backgroundColor,e.style.position="relative"})),n=u;while(n--){l[n]=[],r=c;while(r--)l[n][r]=!0}}else{var v=document.createElement("canvas").getContext("2d");v.fillStyle=i.backgroundColor,v.fillRect(0,0,1,1);var m,y,x=v.getImageData(0,0,1,1).data,b=t.getContext("2d").getImageData(0,0,u*f,c*f).data;n=u;while(n--){l[n]=[],r=c;while(r--){y=f;e:while(y--){m=f;while(m--){o=4;while(o--)if(b[4*((r*f+y)*u*f+(n*f+m))+o]!==x[o]){l[n][r]=!1;break e}}}!1!==l[n][r]&&(l[n][r]=!0)}}b=v=x=void 0}if(i.hover||i.click){M=!0,n=u+1;while(n--)_[n]=[];i.hover&&t.addEventListener("mousemove",I),i.click&&(t.addEventListener("click",k),t.addEventListener("touchstart",k),t.addEventListener("touchend",(function(e){e.preventDefault()})),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",(function e(){t.removeEventListener("wordcloudstart",e),t.removeEventListener("mousemove",I),t.removeEventListener("click",k),w=void 0}))}o=0,0!==i.wait?(s=window.setTimeout,g=window.clearTimeout):(s=window.setImmediate,g=window.clearImmediate);var S=function(t,i){e.forEach((function(e){e.addEventListener(t,i)}),this)},T=function(t,i){e.forEach((function(e){e.removeEventListener(t,i)}),this)},L=function e(){T("wordcloudstart",e),g(C)};S("wordcloudstart",L);var C=s((function e(){if(o>=i.list.length)return g(C),E("wordcloudstop",!1),void T("wordcloudstart",L);p=(new Date).getTime();var t=z(i.list[o]),a=!E("wordclouddrawn",!0,{item:i.list[o],drawn:t});if(V()||a)return g(C),i.abort(),E("wordcloudabort",!1),E("wordcloudstop",!1),void T("wordcloudstart",L);o++,C=s(e,i.wait)}),i.wait)}};H()}function N(e,t){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(t-e)+e).toFixed()+"%)"}};l.isSupported=r,l.minFontSize=o,a=[],n=function(){return l}.apply(t,a),void 0===n||(e.exports=n)}()},"87a1":function(e,t,i){e.exports=i("0a4f")},"94b1":function(e,t,i){var a=i("3eba"),n=i("6d8b"),r=i("9d57"),o=r.layout,s=r.largeLayout;i("5aa9"),i("17b8"),i("67cc"),i("01ed"),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,n.curry(o,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),a.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},a385:function(e,t,i){"use strict";function a(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var n=i("4cbb");i("87a1");var r=a(i("6521"));function o(e){var t=e.dimension,i=e.metrics,a=e.rows,r=e.color,o=e.sizeMax,s=e.sizeMin,l=e.shape,u={type:"wordCloud",textStyle:{normal:{color:!n.isArray(r)&&r?r:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},shape:l,sizeRange:[s,o]},c=n.isArray(r)?r.length:0,d=a.slice().map((function(e){var a={name:e[t],value:e[i]};return c>0&&(a.textStyle={normal:{color:r[Math.floor(Math.random()*c)]}}),a}));return u.data=d,[u]}function s(e){var t=e.tooltipFormatter;return{show:!0,formatter:function(e){var i=e.data,a=i.name,n=i.value;return t?t.apply(null,e):a+": "+n}}}var l=function(e,t,i,a){var n=i.dimension,r=void 0===n?e[0]:n,l=i.metrics,u=void 0===l?e[1]:l,c=i.color,d=void 0===c?"":c,h=i.sizeMax,p=void 0===h?60:h,g=i.sizeMin,f=void 0===g?12:g,v=i.shape,m=void 0===v?"circle":v,y=a.tooltipVisible,x=a.tooltipFormatter,b=o({dimension:r,metrics:u,rows:t,color:d,sizeMax:p,sizeMin:f,shape:m}),w=y&&s({tooltipFormatter:x});return{series:b,tooltip:w}},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},c=u({},r,{name:"VeWordcloud",data:function(){return this.chartHandler=l,{}}});e.exports=c},ab05:function(e,t,i){var a=i("3eba"),n=i("6d8b"),r=i("2b8c"),o=i("5f14"),s=a.PRIORITY.VISUAL.COMPONENT;function l(e,t,i,a){for(var n=t.targetVisuals[a],r=o.prepareVisualTypes(n),s={color:e.getData().getVisual("color")},l=0,u=r.length;l<u;l++){var c=r[l],d=n["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(i,h,p)}return s.color;function h(e){return s[e]}function p(e,t){s[e]=t}}a.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var a=e.pipelineContext;!t.isTargetSeries(e)||a&&a.large||i.push(r.incrementalApplyVisual(t.stateList,t.targetVisuals,n.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),i}}),a.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),a=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(n.bind(l,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimension(i),s=i.getDimensionInfo(o);null!=s&&(r.dimension=s.index,a.push(r))}})),e.getData().setVisual("visualMeta",a)}})},b336:function(e,t,i){var a=i("6d8b"),n=a.each;function r(e){var t=e&&e.visualMap;a.isArray(t)||(t=t?[t]:[]),n(t,(function(e){if(e){o(e,"splitList")&&!o(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&a.isArray(t)&&n(t,(function(e){a.isObject(e)&&(o(e,"start")&&!o(e,"min")&&(e.min=e.start),o(e,"end")&&!o(e,"max")&&(e.max=e.end))}))}}))}function o(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=r},b5c7:function(e,t,i){var a=i("282b"),n=a([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(e){var t=n(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(t.lineDash=i)}return t}};e.exports=r},bc5f:function(e,t,i){var a=i("6cb7");a.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}))},bd92:function(e,t,i){var a=i("6d8b"),n=i("4f85"),r=i("e468"),o=r.seriesModelMixin,s=n.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,i){var a=t.getItemLayout(e);return a&&i.rect(a.brushRect)}});a.mixin(s,o,!0);var l=s;e.exports=l},bf17:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-main",[i("h1",[e._v("1小时直播弹幕")]),i("ve-wordcloud",{directives:[{name:"loading",rawName:"v-loading",value:!e.hawkProxyH.length,expression:"!hawkProxyH.length"}],attrs:{settings:{sizeMax:96,sizeMin:12},data:{columns:["word","weight"],rows:e.hawkProxyH},extend:e.wordCloudExtend}}),i("h1",[e._v("24小时直播弹幕")]),i("ve-wordcloud",{directives:[{name:"loading",rawName:"v-loading",value:!e.hawkProxyDay.length,expression:"!hawkProxyDay.length"}],attrs:{settings:{sizeMax:96,sizeMin:12},data:{columns:["word","weight"],rows:e.hawkProxyDay},extend:e.wordCloudExtend}}),i("h1",[e._v("虚拟世界宏观经济走势")]),i("el-row",[i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:!e.vtbMacro.length,expression:"!vtbMacro.length"}],attrs:{xs:24,span:12}},[i("h1",[e._v("直播势:")]),i("ve-line",{attrs:{data:{rows:e.vtbMacro},settings:e.vtb,extend:e.vtbExtend,"data-zoom":e.dataZoomDay,"not-set-unchange":["dataZoom"]}}),e.fullVtb?e._e():i("el-button",{attrs:{size:"mini",loading:e.loading,title:"载入完整"},on:{click:e.loadVtbMacroAll}},[e._v("(一周)")])],1),i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:!e.guardMacro.length,expression:"!guardMacro.length"}],attrs:{xs:24,span:12}},[i("h1",[e._v("虚拟世界舰团:")]),i("ve-line",{attrs:{data:{rows:e.guardMacro},settings:e.guard,extend:e.guardExtend,"data-zoom":e.dataZoomWeek,"not-set-unchange":["dataZoom"]}})],1)],1),i("guardMarcoK"),i("el-row",[i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:!e.vupMacro.length,expression:"!vupMacro.length"}],attrs:{span:24}},[i("h1",[e._v("视频势:")]),i("ve-line",{attrs:{data:{rows:e.vupMacro},settings:e.vup,"data-zoom":e.dataZoomWeek,"not-set-unchange":["dataZoom"]}})],1)],1)],1)],1)},n=[],r=(i("b0c0"),i("5530")),o=i("2909"),s=(i("96cf"),i("1da1")),l=i("2b0e"),u=i("2f62"),c=i("6c23"),d=i("c3da"),h=i.n(d),p=i("6822"),g=i.n(p),f=i("a385"),v=i.n(f),m=(i("0a6d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:!e.guardMacroK.length,expression:"!guardMacroK.length"}],attrs:{xs:24,span:12}},[i("h1",[e._v("舰团日K:")]),i("ve-candle",{attrs:{data:{rows:e.guardMacroK},settings:e.guardK,"not-set-unchange":["dataZoom"]}})],1),i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:!e.guardMacroWeekK.length,expression:"!guardMacroWeekK.length"}],attrs:{xs:24,span:12}},[i("h1",[e._v("舰团周K:")]),i("ve-candle",{attrs:{data:{rows:e.guardMacroWeekK},settings:e.guardWeekK,"not-set-unchange":["dataZoom"]}})],1)],1)}),y=[],x={mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])();case 2:return e.guardMacroK=t.sent,t.next=5,Object(c["e"])();case 5:e.guardMacroWeekK=t.sent;case 6:case"end":return t.stop()}}),t)})))()},sockets:{connect:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])();case 2:return e.guardMacroK=t.sent,t.next=5,Object(c["e"])();case 5:e.guardMacroWeekK=t.sent;case 6:case"end":return t.stop()}}),t)})))()},guardMacroK:function(e){var t=this.guardMacroK[this.guardMacroK.length-1]||{},i=t.time;e.time===i&&this.guardMacroK.pop(),this.guardMacroK.push(e)},guardMacroWeekK:function(e){var t=this.guardMacroWeekK[this.guardMacroWeekK.length-1]||{},i=t.weekNum;e.weekNum===i&&this.guardMacroWeekK.pop(),this.guardMacroWeekK.push(e)}},data:function(){return this.guardK={labelMap:{open:"开盘",close:"收盘",lowest:"最低",highest:"最高"},upColor:"#ec0000",downColor:"#00da3c",showMA:!0,dimension:"time",metrics:["open","close","lowest","highest"],showDataZoom:!0},this.guardWeekK={labelMap:{open:"开盘",close:"收盘",lowest:"最低",highest:"最高","日K":"周K"},legendName:{"日K":"周K"},upColor:"#ec0000",downColor:"#00da3c",dimension:"time",metrics:["open","close","lowest","highest"]},{guardMacroK:[],guardMacroWeekK:[]}}},b=x,w=i("2877"),M=Object(w["a"])(b,m,y,!1,null,null,null),_=M.exports;l["default"].component(h.a.name,h.a),l["default"].component(g.a.name,g.a),l["default"].component(v.a.name,v.a);var S={components:{guardMarcoK:_},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.vupMacro.length||Object(c["b"])("vupMacroCompressed").then((function(t){return e.updateMacro({vup:t})})),e.vtbMacro.length||Object(c["b"])("vtbMacroWeekCompressed").then((function(t){return e.updateMacro({vtb:t})})),e.guardMacro.length){t.next=7;break}return t.next=5,Object(c["b"])("guardMacroCompressed");case 5:i=t.sent,e.updateMacro({guard:i});case 7:e.hawkUpdater=setInterval((function(){e.hawkProxyDay=Object(o["a"])(e.hawk.day),e.hawkProxyH=Object(o["a"])(e.hawk.h)}),6e4),e.hawkProxyDay=Object(o["a"])(e.hawk.day),e.hawkProxyH=Object(o["a"])(e.hawk.h);case 10:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.hawkUpdater)},methods:Object(r["a"])({loadVtbMacroAll:function(){var e=this;this.loading=!0,Object(c["b"])("vtbMacroCompressed").then((function(t){e.fullVtb=!0,e.updateMacro({vtb:t})}))}},Object(u["d"])(["updateMacro"])),computed:Object(r["a"])({},Object(u["e"])(["vupMacro","vtbMacro","guardMacro","hawk"])),data:function(){return this.dataZoomDay=[{type:"slider",startValue:(new Date).getTime()-864e5}],this.dataZoomWeek=[{type:"slider",startValue:(new Date).getTime()-6048e5}],this.vup={dimension:["time"],metrics:["video","archiveView"],labelMap:{video:"视频数",archiveView:"总观看"},yAxisName:["视频数","总观看"],xAxisType:"time",scale:[!0,!0],axisSite:{right:["archiveView"]}},this.vtb={dimension:["time"],metrics:["liveStatus","online"],labelMap:{liveStatus:"直播中",online:"总人气"},yAxisName:["直播中","总人气"],xAxisType:"time",axisSite:{right:["online"]}},this.vtbExtend={"series.0.step":"end","series.0.smooth":!1,"series.0.symbol":"none","series.0.sampling":"max","series.1.sampling":"max"},this.guard={dimension:["time"],metrics:["guardNum"],labelMap:{guardNum:"舰团"},yAxisName:["舰长+提督+总督"],scale:[!0],xAxisType:"time"},this.guardExtend={"series.0.symbol":"none","series.0.smoothMonotone":"x"},this.wordCloudExtend={"series.0.width":"100%","series.0.height":"100%","series.0.tooltip.show":!1},{loading:!1,hawkProxyDay:[],hawkProxyH:[],hawkUpdater:void 0,fullVtb:!1}}},I=S,k=Object(w["a"])(I,a,n,!1,null,"4cd644bd",null);t["default"]=k.exports},c03d:function(e,t,i){var a=i("3eba");a.extendChartView({type:"wordCloud",render:function(e,t,i){var n=this.group;n.removeAll();var r=e.getData(),o=e.get("gridSize");e.layoutInstance.ondraw=function(e,t,i,s){var l=r.getItemModel(i),u=l.getModel("textStyle.normal"),c=l.getModel("textStyle.emphasis"),d=new a.graphic.Text({style:a.graphic.setTextStyle({},u,{x:s.info.fillTextOffsetX,y:s.info.fillTextOffsetY+.5*t,text:e,textBaseline:"middle",textFill:r.getItemVisual(i,"color"),fontSize:t}),scale:[1/s.info.mu,1/s.info.mu],position:[(s.gx+s.info.gw/2)*o,(s.gy+s.info.gh/2)*o],rotation:s.rot});n.add(d),r.setItemGraphicEl(i,d),a.graphic.setHoverStyle(d,a.graphic.setTextStyle({},c,null,{forMerge:!0},!0))},this._model=e},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}})},c2be:function(e,t,i){var a=i("2306"),n=a.extendShape,r=n({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var i=t.cx,a=t.cy,n=Math.max(t.r0||0,0),r=Math.max(t.r,0),o=.5*(r-n),s=n+o,l=t.startAngle,u=t.endAngle,c=t.clockwise,d=Math.cos(l),h=Math.sin(l),p=Math.cos(u),g=Math.sin(u),f=c?u-l<2*Math.PI:l-u<2*Math.PI;f&&(e.moveTo(d*n+i,h*n+a),e.arc(d*s+i,h*s+a,o,-Math.PI+l,l,!c)),e.arc(i,a,r,l,u,!c),e.moveTo(p*r+i,g*r+a),e.arc(p*s+i,g*s+a,o,u-2*Math.PI,u-Math.PI,!c),0!==n&&(e.arc(i,a,n,u,l,c),e.moveTo(d*n+i,g*n+a)),e.closePath()}});e.exports=r},cbb0:function(e,t,i){var a=i("6d8b"),n=i("f934"),r=n.getLayoutRect;function o(e,t,i){var a=e.option,n=a.align;if(null!=n&&"auto"!==n)return n;for(var o={width:t.getWidth(),height:t.getHeight()},s="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],d={},h=0;h<3;h++)d[l[1-s][h]]=c[h],d[u[h]]=2===h?i[0]:a[u[h]];var p=[["x","width",3],["y","height",0]][s],g=r(d,o,a.padding);return u[(g.margin[p[2]]||0)+g[p[0]]+.5*g[p[1]]<.5*o[p[1]]?0:1]}function s(e,t){return a.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}t.getItemAlign=o,t.makeHighDownBatch=s},d6ef:function(e,t,i){var a=i("3eba"),n={type:"selectDataRange",event:"dataRangeSelected",update:"update"};a.registerAction(n,(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}))},e468:function(e,t,i){var a=i("e46b"),n=i("6d8b"),r=i("2f45"),o=r.getDimensionTypeByAxis,s=i("0f99"),l=s.makeSeriesEncodeForAxisCoordSys,u={_baseAxisDim:null,getInitialData:function(e,t){var i,r,s=t.getComponent("xAxis",this.get("xAxisIndex")),u=t.getComponent("yAxis",this.get("yAxisIndex")),c=s.get("type"),d=u.get("type");"category"===c?(e.layout="horizontal",i=s.getOrdinalMeta(),r=!0):"category"===d?(e.layout="vertical",i=u.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var h=["x","y"],p="horizontal"===e.layout?0:1,g=this._baseAxisDim=h[p],f=h[1-p],v=[s,u],m=v[p].get("type"),y=v[1-p].get("type"),x=e.data;if(x&&r){var b=[];n.each(x,(function(e,t){var i;e.value&&n.isArray(e.value)?(i=e.value.slice(),e.value.unshift(t)):n.isArray(e)?(i=e.slice(),e.unshift(t)):i=e,b.push(i)})),e.data=b}var w=this.defaultValueDimensions,M=[{name:g,type:o(m),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:o(y),dimsDef:w.slice()}];return a(this,{coordDimensions:M,dimensionsCount:w.length+1,encodeDefaulter:n.curry(l,M,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};t.seriesModelMixin=u},e46b:function(e,t,i){var a=i("b1d4"),n=i("6179"),r=i("6d8b"),o=r.extend,s=r.isArray;function l(e,t,i){t=s(t)&&{coordDimensions:t}||o({},t);var r=e.getSource(),l=a(r,t),u=new n(l,e);return u.initData(r,i),u}e.exports=l},e7aa:function(e,t,i){var a=i("2306"),n=i("c775"),r=n.getDefaultLabel;function o(e,t,i,n,o,l,u){var c=i.getModel("label"),d=i.getModel("emphasis.label");a.setLabelStyle(e,t,c,d,{labelFetcher:o,labelDataIndex:l,defaultText:r(o.getData(),l),isRectText:!0,autoColor:n}),s(e),s(t)}function s(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=o},eabf:function(e,t,i){var a=i("6d8b");function n(e){e&&a.isArray(e.series)&&a.each(e.series,(function(e){a.isObject(e)&&"k"===e.type&&(e.type="candlestick")}))}e.exports=n},eaea:function(e,t,i){var a=i("3eba"),n=i("6d8b"),r=i("22d1"),o=i("60e3"),s=i("5f14"),l=i("2b8c"),u=i("e0d3"),c=i("3842"),d=s.mapVisual,h=s.eachVisual,p=n.isArray,g=n.each,f=c.asc,v=c.linearMap,m=n.noop,y=a.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;r.canvasSupported||(i.realtime=!1),!t&&l.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=n.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=u.normalizeToArray(e),t},eachTargetSeries:function(e,t){n.each(this.getTargetSeriesIndices(),(function(i){e.call(t,this.ecModel.getSeriesByIndex(i))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},formatValueText:function(e,t,i){var a,r,o=this.option,s=o.precision,l=this.dataBound,u=o.formatter;return i=i||["<",">"],n.isArray(e)&&(e=e.slice(),a=!0),r=t?e:a?[c(e[0]),c(e[1])]:c(e),n.isString(u)?u.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):n.isFunction(u)?a?u(e[0],e[1]):u(e):a?e[0]===l[0]?i[0]+" "+r[1]:e[1]===l[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;function c(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=f([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var a=e.dimensions,n=a.length-1;n>=0;n--){var r=a[n],o=e.getDimensionInfo(r);if(!o.isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},a=t.target||(t.target={}),r=t.controller||(t.controller={});n.merge(a,i),n.merge(r,i);var l=this.isCategory();function u(i){p(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},g(this.stateList,(function(e){var t=i[e];if(n.isString(t)){var a=o.get(t,"active",l);a?(i[e]={},i[e][t]=a):delete i[e]}}),this)}function c(e,t,i){var a=e[t],n=e[i];a&&!n&&(n=e[i]={},g(a,(function(e,t){if(s.isValidType(t)){var i=o.get(t,"inactive",l);null!=i&&(n[t]=i,"color"!==t||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}})))}function f(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,a=this.get("inactiveColor");g(this.stateList,(function(r){var o=this.itemSize,s=e[r];s||(s=e[r]={color:l?a:[a]}),null==s.symbol&&(s.symbol=t&&n.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&n.clone(i)||(l?o[0]:[o[0],o[0]])),s.symbol=d(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var u=s.symbolSize;if(null!=u){var c=-1/0;h(u,(function(e){e>c&&(c=e)})),s.symbolSize=d(u,(function(e){return v(e,[0,c],[0,o[0]],!0)}))}}),this)}u.call(this,a),u.call(this,r),c.call(this,a,"inRange","outOfRange"),f.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:m,getValueState:m,getVisualMeta:m}),x=y;e.exports=x}}]);
//# sourceMappingURL=macro.27f974ae.js.map